0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .60
lambda[7,3] <- .60
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .50
lambda[7,3] <- .50
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
1 - diag(lambda %*% phi %*% t(lambda))
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,0,1), ncol = 4)
phi
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
phi
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .45
lambda[7,3] <- .45
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .30
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .38
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .38
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("imputation","id.l1","id.l2","n1.l1","d1.l1","d2.l1","n2.l1",
"x1.l1","x2.l1","x3.l1","x4.l1","y.l1","d3.l2","x5.l2","x6.l2")
install.packages(c("bayesplot", "bestNormalize", "blavaan", "broom", "butcher", "cli", "colorspace", "cpp11", "credentials", "curl", "dplyr", "fansi", "gert", "ggdist", "ggplot2", "inline", "isoband", "ks", "lamW", "LaplacesDemon", "lavaan", "lme4", "Matrix", "matrixcalc", "matrixStats", "mgcv", "mime", "multicool", "mvtnorm", "openxlsx", "parallelly", "pillar", "plot3D", "psych", "quantreg", "Rcpp", "RcppArmadillo", "readr", "rmarkdown", "Rttf2pt1", "semTools", "stringi", "TAM", "testthat", "tibble", "tinytex", "utf8", "xfun", "zip"))
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
# fit model with semtools and lavaan
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T)
summary(analysis, fit = T)
analysis
class?lavaan.mi
summary(analysis, se = T)
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps20.dat"))
names(imps) <- c("Imputation","id", "bmi",
paste0("dft",seq(1:7)), paste0("db",seq(1:5)), paste0("latdft",seq(1:7)),paste0("latdb",seq(1:5))
)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps100.dat"))
names(imps) <- c("Imputation","id", "bmi",
paste0("dft",seq(1:7)), paste0("db",seq(1:5)), paste0("latdft",seq(1:7)),paste0("latdb",seq(1:5))
)
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id", "bmi",
paste0("dft",seq(1:7)), paste0("db",seq(1:5)), paste0("latdft",seq(1:7)),paste0("latdb",seq(1:5))
)
drive <- paste("drive =~", paste0("latdft", 1:7, collapse = " + "))
diet <- paste("diet =~", paste0("latdb", 1:5, collapse = " + "))
model <- c(drive,diet)
# fit model with semtools and lavaan
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis)
is.list(implist)
imps <- imps[imps$Imputation < 21,]
# fit model with semtools and lavaan
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis)
implist <- list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = TRUE)
summary(analysis, fit = T)
summary(analysis, fit = T)
summary(analysis, ...)
summary(analysis)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = TRUE)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = T)
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis)
analysis <- cfa.mi(model, data = implist, estimator = "ml")
summary(analysis, se = T)
summary(analysis)
fucklist <- list(implist)
analysis <- cfa.mi(model, data = fucklist, std.lv = T, estimator = "ml")
analysis <- cfa.mi(model, fucklist, std.lv = T, estimator = "ml")
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
news(lavaan)
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis)
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis)
summary(analysis, standardized = T)
summary(analysis, standardized = T, fit = T)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
# fit model with semtools and lavaan
implist <- mitml::as.mitml.list(split(imps, imps$Imputation))
analysis <- semTools::cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T, fit = T)
semTools::summary(analysis, standardized = T, fit = T)
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
# fit model with semtools and lavaan
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T, fit = T)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = T)
# load packages
library(semTools)
library(lavaan)
library(mitml)
# set working directory to the location of this script
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("Imputation","id","a1","a2","a3","yscale","mscale","xscale","d1","d2",
paste0("y",seq(1:6)), paste0("m",seq(1:7)), paste0("x",seq(1:6)),
paste0("laty",seq(1:6)), paste0("latx",seq(1:6)))
# specify lavaan model
ylatent <- paste("ylatent =~", paste0("laty", 1:6, collapse = " + "))
xlatent <- paste("xlatent =~", paste0("latx", 1:6, collapse = " + "))
model <- c(ylatent,xlatent)
# fit model with semtools and lavaan
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T, fit = T)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = T)
analysis <- cfa.mi(model, data = implist, estimator = "ml")
# analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T, fit = T)
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10)
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10)
implist <- as.mitml.list(split(imps, imps$Imputation))
analysis <- cfa.mi(model, data = implist, estimator = "ml")
# analysis <- cfa.mi(model, data = implist, std.lv = T, estimator = "ml")
summary(analysis, standardized = T, fit = T)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 10, sort. = T)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 0, sort. = T)
# imputation-based modification indices
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 3, sort. = T)
modindices.mi(analysis, op = c("~~","=~"), minimum.value = 3)
library(psych)
# github url for raw data
filepath <- "https://raw.githubusercontent.com/craigenders/100a/main/FinalExamData.csv"
# create data frame called PTSD from github data
Final <- read.csv(filepath, stringsAsFactors = T)
# create data frame called PTSD from github data
Final <- read.csv(filepath, stringsAsFactors = T)
View(Final)
