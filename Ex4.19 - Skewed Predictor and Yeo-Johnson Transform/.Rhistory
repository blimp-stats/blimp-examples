0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.884,
0.858
)
lamba <- rbind(cbind(deplo, 1), cbind(1, intlo))
psi <- matrix(c(1,.338,.338,1))
lambda
lamdba
lamdba <- rbind(cbind(deplo, 1), cbind(1, intlo))
lamdba
lambda[2,2] <- .204
lambda[2,2] <- .204
lambda <- rbind(cbind(deplo, 1), cbind(1, intlo))
lambda[2,2] <- .204
lambda <- rbind(cbind(deplo, 1), cbind(1, intlo))
lambda <- rbind(cbind(deplo, 1), cbind(1, intlo))
lambda[2,2] <- .204
psi <- matrix(c(1,.338,.338,1))
diag(nrow(lambda)) - t(lambda) %*% phi %*% lambda
phi <- matrix(c(1,.338,.338,1))
diag(nrow(lambda)) - t(lambda) %*% phi %*% lambda
t(lambda)
t(lambda) %*% phi
phi <- matrix(c(1,.338,.338,1), ncol = 2)
diag(nrow(lambda)) - t(lambda) %*% phi %*% lambda
phi
lambda
lambda <- rbind(cbind(deplo, 0), cbind(0, intlo))
lambda[2,2] <- .204
dim(lambda)
dim(phi)
diag(nrow(lambda)) - lambda %*% phi %*% t(lambda)
lambda %*% phi %*% t(lambda)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.884,
0.858
)
lambda <- rbind(cbind(deplo, 0), cbind(0, intlo))
lambda[2,2] <- .40
phi <- matrix(c(1,.338,.338,1), ncol = 2)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.884,
0.858
)
lambda <- rbind(cbind(deplo, 0), cbind(0, intlo))
lambda[2,2] <- .35
phi <- matrix(c(1,.338,.338,1), ncol = 2)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lamba
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda
lambda[2,2] <- .35
lambda
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .30
lambda[7,3] <- .30
lambda
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
phi
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .60
lambda[7,3] <- .60
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .30
lambda[7,3] <- .30
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .50
lambda[7,3] <- .50
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .60
lambda[7,3] <- .60
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .50
lambda[7,3] <- .50
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
1 - diag(lambda %*% phi %*% t(lambda))
1 - diag(lambda %*% phi %*% t(lambda))
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
phi <- matrix(c(1,.338,0,.338,1,0,0,0,1), ncol = 3)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,0,1), ncol = 4)
phi
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
phi
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .45
lambda[7,3] <- .45
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .30
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .30
lambda[5,4] <- .30
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .35
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .38
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
intlo <- c(
0.896,
0.898,
0.913,
0.919,
0.736,
0.696
)
deplo <- c(
0.854,
0.728,
0.944,
0.939,
0.875,
0.8,
0.8
)
lambda <- cbind(rbind(cbind(deplo, 0), cbind(0, intlo)),0,0)
lambda[2,2] <- .38
lambda[6,3] <- .40
lambda[7,3] <- .40
lambda[1,4] <- .35
lambda[5,4] <- .35
phi <- matrix(c(1,.338,0,0,.338,1,0,0,0,0,1,0,0,0,0,1), ncol = 4)
round(1 - diag(lambda %*% phi %*% t(lambda)),3)
# read data from working directory
imps <- read.table(paste0(getwd(), "/imps.dat"))
names(imps) <- c("imputation","id.l1","id.l2","n1.l1","d1.l1","d2.l1","n2.l1",
"x1.l1","x2.l1","x3.l1","x4.l1","y.l1","d3.l2","x5.l2","x6.l2")
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","n1","d1","o1","y","x1","d2","x2","x3")
# center predictors
imps$x1.cent <- imps$x1 - mean(imps$x1)
imps$d2.cent <- imps$d2 - mean(imps$d2)
imps$x2.cent <- imps$x2 - mean(imps$x2)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2.cent + x2.cent))
mitml::testEstimates(results, extra.pars = T, df.com = 626)
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","n1","d1","o1","y","x1","d2","x2","x3")
# set working directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","n1","d1","o1","y","x1","d2","x2","x3")
imps$x1.cent <- imps$x1 - mean(imps$x1)
imps$d2.cent <- imps$d2 - mean(imps$d2)
imps$x2.cent <- imps$x2 - mean(imps$x2)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2.cent + x2.cent))
mitml::testEstimates(results, extra.pars = T, df.com = 626)
# set working directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","n1","d1","o1","y","x1","d2","x2","x3")
# center predictors
imps$x1.cent <- imps$x1 - mean(imps$x1)
imps$d2.cent <- imps$d2 - mean(imps$d2)
imps$x2.cent <- imps$x2 - mean(imps$x2)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2.cent + x2.cent))
mitml::testEstimates(results, extra.pars = T, df.com = 626)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","a1","a2","a3","y","x1","x2","d1","d2",
paste0("o", 1:19))
# set working directory
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
# read data from working directory
imps <- read.table(paste0(getwd(),"/imps.dat"))
names(imps) <- c("imputation","id","a1","a2","a3","y","x1","x2","d1","d2",
paste0("o", 1:19))
# center predictors
imps$x1.cent <- imps$x1 - mean(imps$x1)
imps$d1.cent <- imps$d2 - mean(imps$d1)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2 + x1.cent*d2 + d1.cent))
mitml::testEstimates(results, extra.pars = T, df.com = 295)
View(imps)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2 + x1.cent*d2 + d1.cent))
mitml::testEstimates(results, extra.pars = T, df.com = 295)
results <- with(implist, lm(y ~ x1.cent  + d2 + x1.cent*d2))
mitml::testEstimates(results, extra.pars = T, df.com = 295)
results <- with(implist, lm(y ~ x1.cent  + d2 + x1.cent*d2 + d1.cent ))
mitml::testEstimates(results, extra.pars = T, df.com = 295)
imps$d1.cent <- imps$d1 - mean(imps$d1)
# analysis and pooling with mitml
implist <- mitml::as.mitml.list(split(imps, imps$imputation))
results <- with(implist, lm(y ~ x1.cent  + d2 + x1.cent*d2 + d1.cent ))
mitml::testEstimates(results, extra.pars = T, df.com = 295)
